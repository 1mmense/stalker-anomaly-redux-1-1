;------------------------------------------------------------------------------------------------
[wpn_kriss_snd_shoot]
snd_1_layer                                        = weapons\kriss\kriss_fire
[wpn_kriss_snd_silncer_shot]
snd_1_layer                                        = weapons\kriss\kriss_silenced

[wpn_kriss_sounds]
snd_draw                                           = weapons\kriss\kriss_draw
snd_empty                                          = weapons\kriss\kriss_empty
snd_holster                                        = weapons\kriss\kriss_holster
snd_reload_empty								   = weapons\kriss\kriss_reload_empty
snd_reload										   = weapons\kriss\kriss_reload
snd_reload_grenade                                 = weapons\gen_grenload, 1.0, 0.8
snd_shoot                                          = wpn_kriss_snd_shoot
snd_shoot_grenade                                  = weapons\gen_grenshoot
snd_silncer_shot                                   = wpn_kriss_snd_silncer_shot
snd_switch                                         = weapons\groza_switch, 1.0, 0.5

;------------------------------------------------------------------------------------------------
[wpn_kriss]:identity_immunities,identity_immunities,weapon_probability,default_weapon_params,wpn_kriss_sounds
        GroupControlSection         = spawn_group
        $npc                        = on
        $prefetch                   = 8
        $spawn                      = "weapons\kriss"
        scheduled                   = off
        cform                       = skeleton
        
        class                       = WP_LR300
        slot                        = 2
        animation_slot              = 8
        ef_main_weapon_type         = 2
        ef_weapon_type              = 6
        hand_dependence             = 1
        single_handed               = 0
        
        default_to_ruck             = false
        sprint_allowed              = true
		icons_texture               = ui\taz_kriss_icons
        inv_grid_height             = 2
        inv_grid_width              = 4
        inv_grid_x                  = 0
        inv_grid_y                  = 0
        inv_name                    = st_wpn_kriss
        inv_name_short              = st_wpn_kriss
        description                 = st_wpn_kriss_descr
        
        kind                        = w_smg
        inv_weight                  = 2.7
        cost                        = 54160
        repair_type                 = pistol
        weapon_class                = assault_rifle
        
        hud                         = wpn_kriss_hud
        visual                      = dynamics\weapons\wpn_kriss\wpn_kriss.ogf
        position                    = -0.026, -0.125, -0.03
        orientation                 = 0, -10, 0
        fire_point					= 0.0, 0.0, 0.0
        fire_point2					= 0.0, 0.0, 0.0
        strap_bone0                 = bip01_spine2
        strap_bone1                 = bip01_spine1
        strap_position         		= -0.2,-0.22,0.12			; position (offset) and orientation of the weapon when it is strapped
        strap_orientation      		= -10,-5,10					; (3rd person view in degrees)
        ph_mass                     = 3
        
        flame_particles             = weapons\generic_weapon01
        smoke_particles             = weapons\generic_shoot_00
        grenade_flame_particles     = weapons\generic_weapon01
        
		shell_point             	= 0.00, 0.0, 0.0
		shell_dir               	= 0.0, 0.0, 0.4
		shell_particles         	= weapons\45acp

        light_disabled              = false
        light_color                 = 0.6, 0.5, 0.3
        light_range                 = 5
        light_time                  = 0.2
        light_var_color             = 0.05
        light_var_range             = 0.5
        
        upgrades                    = up_gr_firstab_ump45, up_gr_seconab_ump45, up_gr_thirdab_ump45, up_gr_fourtab_ump45, up_gr_fifthab_ump45, up_gr_fifthcd_ump45
        installed_upgrades          =
        upgrade_scheme              = upgrade_scheme_mp5

        fire_modes                  = 1, 2, -1
        ammo_class                  = ammo_11.43x23_fmj, ammo_11.43x23_fmj_bad, ammo_11.43x23_fmj_verybad, ammo_11.43x23_hydro, ammo_11.43x23_hydro_bad, ammo_11.43x23_hydro_verybad
        ammo_elapsed                = 25
        ammo_mag_size               = 25
        startup_ammo                = 90
        
        scope_status                = 0
        scope_zoom_factor           = 0
        
        silencer_name               = wpn_sil_45
        silencer_status             = 2
        silencer_x                  = 175
        silencer_y                  = 3
        silencer_light_color        = 0.6, 0.5, 0.3
        silencer_light_range        = 0.01
        silencer_light_time         = 0.2
        silencer_light_var_color    = 0.05
        silencer_light_var_range    = 0.5
        silencer_smoke_particles    = weapons\generic_shoot_00
        
        grenade_class               = ammo_m209, ammo_m209_bad, ammo_m209_verybad
        grenade_launcher_name       = wpn_addon_grenade_launcher
        grenade_launcher_status     = 0
        grenade_launcher_x          = 120
        grenade_launcher_y          = 9
        launch_speed                = 0
        
        hit_impulse                 = 15
         hit_power                   = 0.58, 0.58, 0.58, 0.58
        hit_type                    = fire_wound
        fire_distance               = 450
        bullet_speed                = 500
        rpm                         = 1200
        rpm_empty_click             = 120
        
        use_aim_bullet              = false
        time_to_aim                 = 3.0
        zoom_dof                    = 0.5, 1.0, 180
        zoom_enabled                = true
        zoom_rotate_time            = 0.3
        reload_dof                  = 0.0, 0.5, 5, 2
        control_inertion_factor 	= 1.15f
        crosshair_inertion          = 5.3
        fire_dispersion_base        = 0.52
        fire_dispersion_condition_factor = 0.015 ; 0.001 ; = 0.01 ; 9

        misfire_probability         = 0.005
        misfire_start_condition     = 0.875 ;  0.8
        misfire_start_prob          = 0.0025
        misfire_end_condition       = 0.14
        misfire_end_prob            = 0.065
        
        condition_queue_shot_dec    = 0.0004
        condition_shot_dec          = 0.0004
        
        cam_return                  = 0
        cam_relax_speed             = 13
        cam_dispersion              = 0.22
        cam_dispersion_frac         = 0.4
        cam_dispersion_inc          = 0.18
        cam_max_angle               = 30.0
        cam_max_angle_horz          = 30.0
        cam_step_angle_horz         = 1
        zoom_cam_relax_speed        = 13
        zoom_cam_dispersion         = 0.33
        zoom_cam_dispersion_frac    = 0.4
        zoom_cam_dispersion_inc     = 0.18
        zoom_cam_max_angle          = 30.0
        zoom_cam_max_angle_horz     = 30.0
        zoom_cam_step_angle_horz    = 1.05
        
        PDM_disp_accel_factor       = 1.855
        PDM_disp_base               = 0.65
        PDM_disp_crouch             = 1.0
        PDM_disp_crouch_no_acc      = 1.0
        PDM_disp_vel_factor         = 1.855
        
        cam_relax_speed_ai          = 360
        zoom_cam_relax_speed_ai     = 360
        holder_fov_modifier         = 1.0
        holder_range_modifier       = 1.0
        min_radius                  = 0
        max_radius                  = 500
        hit_probability_gd_novice   = 0.80
        hit_probability_gd_stalker  = 0.80
        hit_probability_gd_veteran  = 0.80
        hit_probability_gd_master   = 0.80
        
        kill_msg_x                  = 0
        kill_msg_y                  = 123
        kill_msg_width              = 69
        kill_msg_height             = 30
 

[wpn_kriss_hud]:hud_base
        item_visual                 = dynamics\weapons\wpn_kriss\wpn_kriss_hud.ogf
        attach_place_idx            = 0
        zoom_hide_crosshair         = true
        
        item_position				= 0,0,0
		item_orientation			= 0,0,0
         
		hands_position                           = -0.081, -0.0718, -0.07
		hands_position_16x9                      = -0.081, -0.0718, -0.07
		hands_orientation                        = 0.0, 0.5, 0.15
		hands_orientation_16x9                   = 0.0, 0.5, 0.15

		aim_hud_offset_pos                       = -0.06469,0.0084,-0.15
		aim_hud_offset_pos_16x9                  = -0.06469,0.0084,-0.15
		aim_hud_offset_rot                       = 0.007,-0.0015,-0.005
		aim_hud_offset_rot_16x9                  = 0.007,-0.0015,-0.005
        
        
        gl_hud_offset_pos       	= 0,0,0
		gl_hud_offset_rot       	= 0,0,0
		gl_hud_offset_pos_16x9  	= 0,0,0
		gl_hud_offset_rot_16x9  	= 0,0,0
        
        lean_hud_offset_pos         = 0, 0, 0
        lean_hud_offset_rot         = 0, 0, 0
		
		lowered_hud_offset_pos			= 0.075, -0.018, -0.02
		lowered_hud_offset_pos_16x9		= 0.075, -0.018, -0.02
		lowered_hud_offset_rot			= -0.1, -0.65, 0.4
		lowered_hud_offset_rot_16x9		= -0.1, -0.65, 0.4
        
		anm_show             	= kyy_kriss_draw
		anm_hide             	= kyy_kriss_holster
		anm_idle             	= kyy_kriss_idle, idle
		anm_idle_sprint         = kyy_kriss_idle_sprint
		anm_idle_moving 		= kyy_kriss_idle_move
		anm_idle_moving_crouch  = kyy_kriss_idle_moving_crouch
		anm_shots               = kyy_kriss_shoot, shoot
		anm_reload              = kyy_kriss_reload_partial, reload_partial
		anm_reload_empty		= kyy_kriss_reload, reload
		anm_idle_aim           	= kyy_kriss_idle_aim
		anm_bore				= kyy_kriss_idle_aim
        
        shell_bone                  = wpn_body
        shell_dir                   = 0.0, 0.0, 0.4
        shell_point                 = 0.0, 0.0, 0.0
        
        fire_bone                   = muzzle
		fire_bone2                  = muzzle
        fire_point                  = 0.0, 0.0, 0.0
        fire_point2                 = 0.0, 0.0, 0.0
 
;============================================================================================
[wpn_kriss_custom]:wpn_kriss

;integral suppressor and Aimpoint red dot sight optics

        inv_grid_height             = 2
        inv_grid_width              = 4
        inv_grid_x                  = 0
        inv_grid_y                  = 2
        inv_name                    = st_wpn_kriss_cust
        inv_name_short              = st_wpn_kriss_cust
        description                 = st_wpn_kriss_cust_descr

        item_visual                 = dynamics\weapons\wpn_kriss\wpn_kriss_cust_hud.ogf
        attach_place_idx            = 0
        zoom_hide_crosshair         = true
        inv_weight                  = 2.7
        cost                        = 63210
                
		hit_power            		= 0.62, 0.62, 0.62, 0.62
		snd_silncer_shot        = wpn_kriss_snd_silncer_shot

        silencer_status         	= 1
		scope_zoom_factor           = 75

		hud                        	= wpn_kriss_custom_hud

		visual                     	= dynamics\weapons\wpn_kriss\wpn_kriss_cust.ogf
		
[wpn_kriss_custom_hud]:wpn_kriss_hud
		item_visual                = dynamics\weapons\wpn_kriss\wpn_kriss_cust_hud.ogf

		aim_hud_offset_pos                       = -0.06539,0.0004,-0.14
		aim_hud_offset_pos_16x9                  = -0.06539,0.0004,-0.14
		aim_hud_offset_rot                       = 0.007,-0.0015,-0.005
		aim_hud_offset_rot_16x9                  = 0.007,-0.0015,-0.005

		fire_point                  = 0, 0, 0.25